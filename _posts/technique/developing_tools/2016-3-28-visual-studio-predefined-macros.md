---
layout: post
title: "Visual Studio常用的预定义环境变量(以Visual Studio 2013为例)"
category: tools
tags: [visual studio]
description: ""
---

# 前言 #

本文总结了Visual Studio中常见的环境变量及其在组织解决方案、工程中的作用。

注：本文使用的是Visual Studio 2013，由于作者主要从事c/c++开发，所以是以Visual C++的工作环境配置来描述。

# 什么vs的环境变量？

先看图吧，图中以美元符号$开头 + 一对括号，这样进行引用的就是我所谓的环境变量，举几个例子，比如常见的：



|*环境变量名*|*含义*|
|:---------------:|:----------------:|
| $(SolutionDir)      | 解决方案目录：即.sln文件所在路径 |
|$(ProjectDir)        | 项目文件所在路径：即.vcproj所在路径|
|$(OutDir)            |输出文件路径：`在项目属性 -> 常规 里面可以看到，并设置其值`|

# 使用环境变量来组织工程目录

vs作为一个IDE，其天职在于帮开发者组织好工程，主要包括对工程中源文件、库文件的组织。（本质上是提供一个可视化的操作界面，让开发者方便的定义编译器和链接器的参数。）在使用vs来组织工程目录时候最常用到的两个目录是:

- 头文件包含目录 (对应于编译器命令的：-I 参数)

- 库文件搜索路径 (对应于编译器的：-l 参数)

vs中默认的头文件搜索路径是: `工程路径` -- 即，`.vcproj` 文件所在路径。如果你的文件都放在这个路径下，并且没有子目录，比如如下的目录结构:

--Root/
----Test.vcproj
----hello.cpp
----hello.h
----world.cpp
----world.h
----main.cpp
----/subdir
------sub.h

在Root目录包含了.vcproj文件，所以Root就是`工程路径`，在vs中，这个目录下面的cpp和.h文件都可以直接使用include包含进来, 比如在main.cpp中我可以写：

```c++
#include "hello.h"
#include "world.h"
```

但是对于sub.h，我们就不能直接写`#include "sub.h"`, 因为`工程路径`下面b挺不能搜索到这个文件，我要告诉编译器这个文件在哪里，通常有以下两种方法：

- 写成`#include "subdir/sub.h"`

- 把subdir目录加入到文件包含目录

Google的c++编程风格鼓励第一种做法，好处是可以看到文件相对完整的路径，如果包含目录只有一个根目录，那么这个路径就是文件的相对于根目录的物理路径，方便定位文件。

如果你觉得这样写很麻烦，并且路径深度可能有多层，不同深度的路径下又通常包含大量的文件，那么就可以选择第二种做法，把每个子目录统统加入到包含目录中，这样，就可以不用带着路径，直接`#include "filename.h"`就可以了。具体在VS中要怎么合理的添加包含目录呢？由此，便引出了本文的主题，如何使用环境变量来组织工程目录。

首先要知道最基本的如何添加一个头文件包含目录

使用环境变量来编写头文件包含目录的好处是: 包含路径独立于工程所在的路径，无论工程被移动到哪里，都不需要重新修改包含路径，因为使用环境变量来编写的文件包含路径是一种相对路径，相对于环境变量所在的路径。

<!--more-->


# 进阶

## 如何定义、扩展VS的环境变量？


---------------------------

**作者水平有限，对相关知识的理解和总结难免有错误，还望给予指正，非常感谢！**

**在这里也能看到这篇文章：[github博客](http://elloop.github.io), [CSDN博客](http://blog.csdn.net/elloop), 欢迎访问**

